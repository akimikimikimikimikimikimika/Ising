(()=>{let ce=t=>document.createElement(t),cse=t=>document.createElementNS("http://www.w3.org/2000/svg",t),cd=(i,t)=>{let d=ce("div");if (i) d.id=i;if (t) d.textContent=t;return d;},ap=(p,c)=>p.appendChild(c),rc=c=>c.parentNode.removeChild(c),sa=(e,k,v)=>e.setAttribute(k,v),ra=(e,k)=>e.removeAttribute(k),sc=(e,c)=>{if (c) sa(e,"class",c);else ra(e,"class");return e;};let list=[(()=>{var st;let o={name:"CSS Painting",willInstall:CSS.paintWorklet&&CSS.supports("background-image","paint(scene)")&&/http/.test(location.protocol),active:false,artifact:null,drawPerBits:false,side:0,setup:()=>{d=cd("view");ap(d,ce("style")).textContent=`#view{background-image:paint(scene);}`;st=ap(d,ce("style"));try{CSS.paintWorklet.addModule("Worklet.js");o.artifact=d;}catch(e){console.error(e);}},sideUpdate:()=>{},setScene:a=>{st.textContent=`#view{--binary-data:"${a.map(sa=>sa.map(v=>v?"1":"0").join("")).join("")}";}`;},activated:()=>{},resized:()=>{}};return o;})(),(()=>{var c,ct,s={width:0,height:0},cell;let calc=()=>{let k=window.devicePixelRatio/o.side;cell={w:Math.ceil(s.width*k),h:Math.ceil(s.height*k)};};let o={name:"Canvas 2D",willInstall:window.CanvasRenderingContext2D,active:false,artifact:null,drawPerBits:true,side:0,setup:()=>{if (!c) {c=ce("canvas");c.id="view";ct=c.getContext("2d");o.artifact=c;}},sideUpdate:(b,a)=>{calc();c.width=cell.w*a;c.height=cell.h*a;ct.clearRect(0,0,c.width,c.height);},setBit:(x,y,b)=>{ct.clearRect(cell.w*x,cell.h*y,cell.w,cell.h);ct.beginPath();ct.fillStyle=getComputedStyle(c).getPropertyValue(`--${b?"on":"off"}-color`);ct.fillRect(cell.w*x,cell.h*y,cell.w,cell.h);},activated:()=>{s=c.getBoundingClientRect();},resized:()=>{s=c.getBoundingClientRect();calc();c.width=cell.w*o.side;c.height=cell.h*o.side;return true;}};return o;})(),(()=>{var d,st;let o={name:"Background Image",willInstall:CSS.supports("background-size","calc( 100% / 100 )"),active:false,artifact:null,drawPerBits:false,side:0,setup:()=>{if (!d) {d=cd("view");let p=window.devicePixelRatio;ap(d,ce("style")).textContent=`#view{width:${p*100}%;height:${p*100}%;transform:scale(${1/p});transform-origin:left top;background-color:var(--off-color);background-repeat:no-repeat;background-origin:border-box;background-clip:border-box;}`;st=ap(d,ce("style"));o.artifact=d;}},sideUpdate:(b,a)=>{},setScene:a=>{let bp=[],bi=[];for (var y=0;y<o.side;y++) {bp.push(`center ${100*y/(o.side-1)}%`);var lcp=0,cv=a[y][0];var t=`var(--${cv?"on":"off"}-color) 0%`;for (var x=0;x<o.side;x++) if (a[y][x]!=cv) {t+=`,var(--${cv?"on":"off"}-color) ${100*x/o.side}%`;cv=!cv;t+=`,var(--${cv?"on":"off"}-color) ${100*x/o.side}%`;}t+=`,var(--${cv?"on":"off"}-color) 100%`;bi.push(`linear-gradient(to right,${t})`);}st.textContent=`#view{background-size:100% ${100/o.side}%;background-position:${bp.join(",")};background-image:${bi.join(",")};}`;},resized:()=>{},activated:()=>{}};return o;})(),(()=>{var g,st;let o={name:"DIV Grid",willInstall:CSS.supports("display","grid"),active:false,artifact:null,drawPerBits:true,side:0,setup:()=>{if (!g) {g=cd("view");ap(g,ce("style")).textContent=`#view{display:grid;grid-template-columns:repeat(var(--side),1fr);grid-template-rows:repeat(var(--side),1fr);}.on{background-color:var(--on-color);}.off{background-color:var(--off-color);}`;st=ap(g,ce("style"));o.artifact=g;}},sideUpdate:(b,a)=>{let cn=g.childNodes;let cl=a**2;while ((cn.length-2)!=cl) {if ((cn.length-2)<cl) ap(g,cd());else rc(g.lastChild);}st.textContent=`#view{--side:${o.side};}`;},setBit:(x,y,b)=>{sc(g.childNodes[x+y*o.side+2],b?"on":"off");},resized:()=>{},activated:()=>{}};return o;})(),(()=>{var f;let o={name:"DIV Flex",willInstall:CSS.supports("display","flex"),active:false,artifact:null,drawPerBits:true,side:0,setup:()=>{if (!f) {f=cd("view");ap(f,ce("style")).textContent=`#view{flex-direction:column;}#view>div{flex-direction:row;}#view,#view>div{display:flex;align-items:stretch;}#view div{flex:1;}.on{background-color:var(--on-color);}.off{background-color:var(--off-color);}`;o.artifact=f;}},sideUpdate:(b,a)=>{let cn=f.childNodes;while ((cn.length-1)!=a) {if ((cn.length-1)<a) {Array.from(cn).forEach(e=>ap(e,cd()));let e=ap(f,cd());while (e.childNodes.length<(cn.length-1)) ap(e,cd());}else {rc(f.lastChild);Array.from(f.childNodes).forEach(e=>rc(e.lastChild));}}},setBit:(x,y,b)=>sc(f.childNodes[y+1].childNodes[x],b?"on":"off"),resized:()=>{},activated:()=>{}};return o;})(),(()=>{var c,st;let o={name:"DIV Absolute",willInstall:CSS.supports("top","calc(100%/8*1)"),active:false,artifact:null,drawPerBits:true,side:0,setup:()=>{if (!c) {c=cd("view");ap(c,ce("style")).textContent=`#view>div{position:absolute;display:block;box-sizing:border-box;}.on{background-color:var(--on-color);}.off{background-color:var(--off-color);}`;st=ap(c,ce("style"));o.artifact=c;}},sideUpdate:(b,a)=>{let cn=c.childNodes;let cl=a**2;while ((cn.length-2)!=cl) {if ((cn.length-2)<cl) ap(c,cd());else rc(c.lastChild);}var t="";for (var x=0;x<a;x++) t+=`#view>div:nth-child(${a}n+${x+3}){left:calc(100%*${x}/${a});right:calc(100%*${a-1-x}/${a});}`;for (var y=0;y<a;y++) t+=`#view>div:nth-child(n+${y*a+3}):nth-child(-n+${(y+1)*a+2}){top:calc(100%*${y}/${a});bottom:calc(100%*${a-1-y}/${a});}`;st.textContent=t;},setBit:(x,y,b)=>{sc(c.childNodes[x+y*o.side+2],b?"on":"off");},resized:()=>{},activated:()=>{}};return o;})(),(()=>{var tb;let o={name:"DIV Table",willInstall:CSS.supports("display","table-cell"),active:false,artifact:null,drawPerBits:true,side:0,setup:()=>{if (!tb) {let t=cd("view");ap(t,ce("style")).textContent=`#view{display:table;border-collapse:collapse;border:none;}#view>div{display:table-row-group;}#view>div>div{display:table-row;}#view>div>div>div{display:table-cell;}.on{background-color:var(--on-color);}.off{background-color:var(--off-color);}`;tb=ap(t,cd());o.artifact=t;}},sideUpdate:(b,a)=>{let cn=tb.childNodes;while (cn.length!=a) {if (cn.length<a) {Array.from(cn).forEach(tr=>ap(tr,cd()));let tr=ap(tb,cd());while (tr.childNodes.length<cn.length) ap(tr,cd());}else {rc(tb.lastChild);Array.from(tb.childNodes).forEach(tr=>rc(tr.lastChild));}}},setBit:(x,y,b)=>sc(tb.childNodes[y].childNodes[x],b?"on":"off"),resized:()=>{},activated:()=>{}};return o;})(),(()=>{var s;let o={name:"SVG Rect",willInstall:window.SVGSVGElement,active:false,artifact:null,drawPerBits:true,side:0,setup:()=>{if (!s) {s=cse("svg");sa(s,"preserveAspectRatio","none");sa(s,"id","view");ap(s,cse("style")).textContent=`rect{stroke-width:0;stroke:transparent;}.on{fill:var(--on-color);}.off{fill:var(--off-color);}`;o.artifact=s;}},sideUpdate:(b,a)=>{let cn=s.childNodes;let cl=a**2;while ((cn.length-1)!=cl) {if ((cn.length-1)<cl) {let r=ap(s,cse("rect"));sa(r,"width",1);sa(r,"height",1);}else rc(s.lastChild);}for (var x=0;x<a;x++) for (var y=0;y<a;y++) {let r=s.childNodes[x+y*a+1];sa(r,"x",x);sa(r,"y",y);}sa(s,"viewBox",`0 0 ${a} ${a}`);},setBit:(x,y,b)=>{sc(s.childNodes[x+y*o.side+1],b?"on":"off");},resized:()=>{},activated:()=>{}};return o;})()];window.res("primitive",list.filter(o=>o.willInstall));})();
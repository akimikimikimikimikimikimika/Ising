(()=>{let ce=t=>document.createElement(t),cse=t=>document.createElementNS("http://www.w3.org/2000/svg",t),cd=(i,t)=>{let d=ce("div");if (i) d.id=i;if (t) d.textContent=t;return d;},ap=(p,c)=>p.appendChild(c),rc=c=>c.parentNode.removeChild(c),sa=(e,k,v)=>e.setAttribute(k,v),ra=(e,k)=>e.removeAttribute(k),ael=(e,t,f)=>e.addEventListener(t,f),sc=(e,c)=>{if (c) sa(e,"class",c);else ra(e,"class");return e;},valid=v=>v!=undefined,html=document.documentElement,body=document.body;let status=(o=>{let s=new Proxy(o,{set:(t,p,v)=>{let changed=t[p]!=v;t[p]=v;if (changed) switch (p) {case "side":core.sideUpdate();break;case "render":modeList(v);core.rendererUpdate();break;case "cryptoRng":if (rngList) rngList(v);break;case "paused":if (v) core.pause();else core.resume();break;}let c=[t.colorSchemePreferred?"pcs":(t.dark?"dark":"light")];if (t.standalone) c.push("standalone");if (t.input=="Touch") c.push("touch");if (t.noMin) c.push("no-min");if (t.browser!=null) c.push(t.browser.toLowerCase());sc(html,c.join(" "));}});var rng=false;try{if (window.crypto.getRandomValues&&Uint32Array) rng=true;}catch(e){rng=false;}s.cryptoRng=rng;let test=cd();s.input=test.ontouchstart===null?"Touch":"Mouse";s.standalone=navigator.standalone===true||(/standalone=yes/).test(location.search);let mm=s=>window.matchMedia(`(prefers-color-scheme: ${s})`).matches;s.colorSchemePreferred=mm("light")||mm("dark");s.noMin=!CSS.supports("width","min(100vw,100vh)");if (window.ApplePaySession) s.browser="Safari";if (window.chrome) s.browser="Chrome";if (window.sidebar) s.browser="Firefox";return s;})({side:50,T:4,J:1,H:0,render:0,cryptoRng:false,paused:false,failed:false,standalone:false,noMin:false,dark:false,colorSchemePreferred:false,browser:null});let base=cd("base");while (body.firstChild) rc(body.firstChild);ap(body,base);let rendererCandidate=[{verify:window.WebMetalRenderingContext,build:()=>{var c,ct,cq,rpd,pls,pxb;let rf=[[0,0],[0,1],[1,0],[0,1],[1,0],[1,1]];let pipeline=()=>{let s=`#include <metal_stdlib>\nusing namespace metal;struct VertexData {float4 position [[position]];float4 color;};vertex VertexData mainVertex(device float2 *position [[ buffer(0) ]], device float *bit [[ buffer(1) ]], const device float *px [[ buffer(2) ]], uint vid [[vertex_id]]) {const float4 off=float4(0.4,0.4,0.0,1.0);const float4 diff=float4(0.6,0.6,0.6,0.0);float2 p=position[vid]/(*px);VertexData v;v.position=float4(-1.0+p.x*2.0,+1.0-p.y*2.0,0.0,1.0);v.color=off+bit[vid]*diff;return v;}fragment float4 mainFragment(VertexData vd [[stage_in]]) {return vd.color;}`;let l=ct.createLibrary(s);let vf=l.functionWithName("mainVertex");let ff=l.functionWithName("mainFragment");let pld = new WebMetalRenderPipelineDescriptor();pld.vertexFunction=vf;pld.fragmentFunction=ff;pld.colorAttachments[0].pixelFormat=ct.PixelFormatBGRA8Unorm;pls=ct.createRenderPipelineState(pld);};let prepare=()=>{cq=ct.createCommandQueue();rpd=new WebMetalRenderPassDescriptor();rpd.colorAttachments[0].loadAction=ct.LoadActionClear;rpd.colorAttachments[0].storeAction=ct.StoreActionStore;rpd.colorAttachments[0].clearColor=[0.0,0.0,0.0,0.0];};let setViewport=()=>{let s=c.getBoundingClientRect();c.width=s.width*window.devicePixelRatio;c.height=s.height*window.devicePixelRatio;};let o={name:"WebMetal",active:false,artifact:null,drawPerBits:false,side:0,setup:()=>{if (!c) {c=ce("canvas");c.id="view";ct=c.getContext("webmetal");if (!ct) return true;pipeline();prepare();o.artifact=c;}},sideUpdate:(b,a)=>{p=a;pxb=ct.createBuffer(new Float32Array([p]));},setScene:a=>{let d=ct.nextDrawable();rpd.colorAttachments[0].texture=d.texture;let cb=cq.createCommandBuffer();let e=cb.createRenderCommandEncoderWithDescriptor(rpd);e.setRenderPipelineState(pls);e.setVertexBuffer(pxb,0,2);let pa=[],ba=[];for (var x=0;x<o.side;x++) for (var y=0;y<o.side;y++) rf.forEach(v=>{pa.push(x+v[0],y+v[1]);ba.push(a[y][x]);});e.setVertexBuffer(ct.createBuffer(new Float32Array(pa)),0,0);e.setVertexBuffer(ct.createBuffer(new Float32Array(ba)),0,1);e.drawPrimitives(ct.PrimitiveTypeTriangle,0,rf.length*(o.side**2));e.endEncoding();cb.presentDrawable(d);cb.commit();},activated:setViewport,resized:()=>{setViewport();return true;}};return o;}},{verify:window.WebGLRenderingContext,build:()=>{var c,ct,pg,psl,pxl;let rf=[[0,0],[0,1],[1,0],[0,1],[1,0],[1,1]];let compile=()=>{pg=ct.createProgram();let s=[{type:ct.VERTEX_SHADER,code:`attribute vec3 position;uniform int pixel;varying float spin;void main() {vec2 p = position.xy/float(pixel);gl_Position = vec4(-1.0+p.x*2.0,+1.0-p.y*2.0,0.0,1.0);spin = position.z;}`},{type:ct.FRAGMENT_SHADER,code:`precision mediump float;const vec4 off = vec4(0.4,0.4,0.0,1.0);const vec4 diff = vec4(0.6,0.6,0.6,0.0);varying float spin;void main() {gl_FragColor = off+diff*spin;}`}];s.forEach(o=>{let s=ct.createShader(o.type);ct.shaderSource(s,o.code);ct.compileShader(s);ct.attachShader(pg,s);if (!ct.getShaderParameter(s, ct.COMPILE_STATUS)) {console.log(ct.getShaderInfoLog(s));return true;}});ct.linkProgram(pg);if (!ct.getProgramParameter(pg, ct.LINK_STATUS)) {console.log(ct.getProgramInfoLog(pg));return true;}};let variables=()=>{ct.useProgram(pg);pxl=ct.getUniformLocation(pg,"pixel");let b=ct.createBuffer();ct.bindBuffer(ct.ARRAY_BUFFER,b);psl=ct.getAttribLocation(pg,"position");ct.enableVertexAttribArray(psl);ct.vertexAttribPointer(psl,3,ct.FLOAT,false,0,0);};let setViewport=()=>{let s=c.getBoundingClientRect();c.width=s.width*window.devicePixelRatio;c.height=s.height*window.devicePixelRatio;ct.viewport(0,0,c.width,c.height);ct.clearColor(0,0,0,0);ct.clear(ct.COLOR_BUFFER_BIT);};let o={name:"WebGL",active:false,artifact:null,drawPerBits:false,side:0,setup:()=>{if (!c) {c=ce("canvas");c.id="view";ct=c.getContext("webgl");if (!ct) return true;if (compile()) return true;variables();o.artifact=c;}},sideUpdate:(b,a)=>{},setScene:a=>{ct.clearColor(0,0,0,0);ct.clear(ct.COLOR_BUFFER_BIT);let ps=[];for (var x=0;x<o.side;x++) for (var y=0;y<o.side;y++) rf.forEach(p=>{ps.push(x+p[0],y+p[1],a[y][x]);});ct.uniform1i(pxl,o.side);ct.bufferData(ct.ARRAY_BUFFER,new Float32Array(ps),ct.STATIC_DRAW);ct.drawArrays(ct.TRIANGLES,0,rf.length*(o.side**2));},activated:setViewport,resized:()=>{setViewport();return true;}};return o;}},{verify:window.CanvasRenderingContext2D,build:()=>{var c,ct,s={width:0,height:0},cell;let calc=()=>{cell={w:Math.ceil(s.width*window.devicePixelRatio/o.side),h:Math.ceil(s.height*window.devicePixelRatio/o.side)};};let o={name:"Canvas 2D",active:false,artifact:null,drawPerBits:true,side:0,setup:()=>{if (!c) {c=ce("canvas");c.id="view";ct=c.getContext("2d");s=c.getBoundingClientRect();o.artifact=c;}},sideUpdate:(b,a)=>{calc();c.width=cell.w*a;c.height=cell.h*a;ct.clearRect(0,0,c.width,c.height);},setBit:(x,y,b)=>{ct.clearRect(cell.w*x,cell.h*y,cell.w,cell.h);ct.beginPath();let c=b?"#ffff99":"#666600";ct.fillStyle=c;ct.fillRect(cell.w*x,cell.h*y,cell.w,cell.h);},activated:()=>{s=c.getBoundingClientRect();},resized:()=>{s=c.getBoundingClientRect();calc();c.width=cell.w*o.side;c.height=cell.h*o.side;return true;}};return o;}},{verify:CSS.supports("background-size","calc( 100% / 100 )"),build:()=>{var d,st;let o={name:"Background Image",active:false,artifact:null,drawPerBits:false,side:0,setup:()=>{if (!d) {d=cd("view");st=ap(d,ce("style"));o.artifact=d;}},sideUpdate:(b,a)=>{},setScene:a=>{let bs=`calc( 100% / ${o.side} )`;let bp=[],bi=[];for (var x=0;x<o.side;x++) for (var y=0;y<o.side;y++) if (a[y][x]) {bp.push(`calc( 100% * ${x} / ${o.side-1} ) calc( 100% * ${y} / ${o.side-1} )`);bi.push("var(--fill)");}let p=window.devicePixelRatio;st.textContent=`#view{--fill:linear-gradient(var(--on-color),var(--on-color));width:${p*100}%;height:${p*100}%;transform-origin:left top;transform:scale(calc( 1 / ${p} ));background-color:var(--off-color);background-repeat:no-repeat;background-origin:border-box;background-clip:border-box;background-size:${bs} ${bs};background-position:${bp.join(",")};background-image:${bi.join(",")};}`;},resized:()=>{},activated:()=>{}};return o;}},{verify:CSS.supports("display","grid"),build:()=>{var g,st;let style=()=>{st.textContent=`#view{display:grid;grid-template-columns:repeat(${o.side},1fr);grid-template-rows:repeat(${o.side},1fr);}.on{background-color:var(--on-color);}.off{background-color:var(--off-color);}`;};let o={name:"DIV Grid",active:false,artifact:null,drawPerBits:true,side:0,setup:()=>{if (!g) {g=cd("view");st=ap(g,ce("style"));style();o.artifact=g;}},sideUpdate:(b,a)=>{let cn=g.childNodes;let cl=a**2;while ((cn.length-1)!=cl) {if ((cn.length-1)<cl) ap(g,cd());else rc(g.lastChild);}style();},setBit:(x,y,b)=>{sc(g.childNodes[x+y*o.side+1],b?"on":0);},resized:()=>{},activated:()=>{}};return o;}},{verify:CSS.supports("display","flex"),build:()=>{var f;let o={name:"DIV Flex",active:false,artifact:null,drawPerBits:true,side:0,setup:()=>{if (!f) {f=cd("view");ap(f,ce("style")).textContent=`#view{flex-direction:column;}#view>div{flex-direction:row;}#view,#view>div{display:flex;align-items:stretch;}#view div{flex:1;}.on{background-color:var(--on-color);}.off{background-color:var(--off-color);}`;o.artifact=f;}},sideUpdate:(b,a)=>{let cn=f.childNodes;while ((cn.length-1)!=a) {if ((cn.length-1)<a) {Array.from(cn).forEach(e=>ap(e,cd()));let e=ap(f,cd());while (e.childNodes.length<(cn.length-1)) ap(e,cd());}else {rc(f.lastChild);Array.from(f.childNodes).forEach(e=>rc(e.lastChild));}}},setBit:(x,y,b)=>sc(f.childNodes[y+1].childNodes[x],b?"on":0),resized:()=>{},activated:()=>{}};return o;}},{verify:true,build:()=>{var tb;let o={name:"Table",active:false,artifact:null,drawPerBits:true,side:0,setup:()=>{if (!tb) {let t=ce("table");t.id="view";ap(t,ce("style")).textContent=`#view{border-collapse:collapse;border:none;}.on{background-color:var(--on-color);}.off{background-color:var(--off-color);}`;tb=ap(t,ce("tbody"));o.artifact=t;}},sideUpdate:(b,a)=>{let cn=tb.childNodes;while (cn.length!=a) {if (cn.length<a) {Array.from(cn).forEach(tr=>ap(tr,ce("td")));let tr=ap(tb,ce("tr"));while (tr.childNodes.length<cn.length) ap(tr,ce("td"));}else {rc(tb.lastChild);Array.from(tb.childNodes).forEach(tr=>rc(tr.lastChild));}}},setBit:(x,y,b)=>sc(tb.childNodes[y].childNodes[x],b?"on":0),resized:()=>{},activated:()=>{}};return o;}},{verify:window.SVGSVGElement,build:()=>{var s;let o={name:"SVG Rect",active:false,artifact:null,drawPerBits:true,side:0,setup:()=>{if (!s) {s=cse("svg");sa(s,"preserveAspectRatio","none");sa(s,"id","view");ap(s,cse("style")).textContent=`rect{stroke-width:0;stroke:transparent;}.on{fill:var(--on-color);}.off{fill:var(--off-color);}`;o.artifact=s;}},sideUpdate:(b,a)=>{let cn=s.childNodes;let cl=a**2;while ((cn.length-1)!=cl) {if ((cn.length-1)<cl) {let r=ap(s,cse("rect"));sa(r,"width",1);sa(r,"height",1);}else rc(s.lastChild);}for (var x=0;x<a;x++) for (var y=0;y<a;y++) {let r=s.childNodes[x+y*a+1];sa(r,"x",x);sa(r,"y",y);}sa(s,"viewBox",`0 0 ${a} ${a}`);},setBit:(x,y,b)=>{sc(s.childNodes[x+y*o.side+1],b?"on":"off");},resized:()=>{},activated:()=>{}};return o;}},{verify:navigator.gpu,build:()=>{var p,n=0;var c,ct,ad,dev,rp,rpd,pb,bb;let rf=[[0,0],[0,1],[1,0],[0,1],[1,0],[1,1]];let prepare=async ()=>{ad=await navigator.gpu.requestAdapter();dev=await ad.requestDevice();let sm=dev.createShaderModule({code:`struct VertexData {float4 position : SV_Position;float bit : attribute(1);};vertex VertexData mainVertex(float2 p : attribute(0),float bit : attribute(1)) {VertexData v;v.position=float4(-1.0 + p.x*2.0,1.0 - p.y*2.0,0.0,1.0);v.bit=bit;return v;}fragment float4 mainFragment(float bit : attribute(1)) : SV_Target 0 {float4 off=float4(0.4,0.4,0.0,1.0);float4 diff=float4(0.6,0.6,0.6,0.0);return off+diff*bit;}`,isWHLSL:true});let sc=ct.configureSwapChain({device:dev,format: "bgra8unorm"});rpd={colorAttachments:[{attachment:sc.getCurrentTexture().createDefaultView(),loadOp:"clear",storeOp:"store",clearColor:{r:0,g:0,b:0,a:0}}]};rp=dev.createRenderPipeline({vertexStage:{module:sm,entryPoint:"mainVertex"},fragmentStage:{module:sm,entryPoint:"mainFragment"},primitiveTopology:"triangle-list",colorStates:[{format:"bgra8unorm",alphaBlend:{srcFactor:"one",dstFactor:"zero",operation:"add"},colorBlend:{srcFactor:"one",dstFactor:"zero",operation:"add"},writeMask:GPUColorWriteBits.ALL}],vertexInput:{vertexBuffers:[{stride:4*2,attributeSet:[{shaderLocation:0,offset:0,format:"float2"}]},{stride:4*1,attributeSet:[{shaderLocation:1,offset:0,format:"float"}]}]}});};let setViewport=()=>{let s=c.getBoundingClientRect();c.width=s.width*window.devicePixelRatio;c.height=s.height*window.devicePixelRatio;};let o={name:"WebGPU (Experimental)",active:false,artifact:null,drawPerBits:false,side:0,aynchronousSetup:true,setup:async ()=>{if (!c) {c=ce("canvas");c.id="view";ct=c.getContext("gpu");if (!ct) return true;await prepare();o.artifact=c;}},sideUpdate:async (b,a)=>{p=a;pb=dev.createBuffer({size:4*2*6*(p**2),usage:GPUBufferUsage.MAP_WRITE|GPUBufferUsage.VERTEX});bb=dev.createBuffer({size:4*1*6*(p**2),usage:GPUBufferUsage.MAP_WRITE|GPUBufferUsage.VERTEX});let pa=[];for (var x=0;x<p;x++) for (var y=0;y<p;y++) rf.forEach(v=>pa.push((x+v[0])/p,(y+v[1])/p));new Float32Array(await pb.mapWriteAsync()).set(pa);pb.unmap();},setScene:async a=>{let ba=[];for (var x=0;x<p;x++) for (var y=0;y<p;y++) {let v=a[y][x];ba.push(v,v,v,v,v,v);}new Float32Array(await bb.mapWriteAsync()).set(ba);bb.unmap();let ce=dev.createCommandEncoder();let rpe=ce.beginRenderPass(rpd);rpe.setPipeline(rp);rpe.setVertexBuffers(0,[pb,bb],[0,0]);rpe.draw(6*(p**2),1,0,0);rpe.endPass();dev.getQueue().submit([ce.finish()]);},activated:setViewport,resized:()=>{setViewport();return true;}};return o;}}];let renderer=rendererCandidate.filter(v=>v.verify).map(v=>v.build());let core=(()=>{let a=[],od=[],c=ap(ap(base,cd("container")),cd("frame"));let message=(()=>{var e=null;let o={name:"Message",artifact:null,setup:()=>{e=cd("view");sc(e,"message");o.artifact=e;},text:t=>e.textContent=t};return o;})();var int=null,last=null;var o=null;let calc=()=>{{let a=[];while (od.length) {let i=rand(od.length);a.push(od[i]);od.splice(i,1);}for (var n=0;n<a.length;n++) od.push(a[n]);}let s=status.side;let T=status.T,J=status.J,H=status.H;let b=(x,y)=>{return a[(y+s)%s][(x+s)%s]*2-1;};var pb=0;for (var n=0;n<od.length;n++) {let ps={x:od[n]%s,y:Math.floor(od[n]/s)};var hm=H;[[-1,0],[+1,0],[0,-1],[0,+1]].forEach(p=>hm+=J*b(ps.x+p[0],ps.y+p[1]));if (T==0) pb=(Math.sign(hm)+1)/2;else pb=1/(1+Math.exp(-2*hm/T));let v=rand()<pb;if (o.drawPerBits&&(a[ps.y][ps.x]!=v)) {if (!status.failed) o.setBit(ps.x,ps.y,v);}a[ps.y][ps.x]=v;}if (!o.drawPerBits) o.setScene(a);};let rendererUpdate=m=>{pause();var r;if (m) r=m;else r=renderer[status.render];if (o) {if (o.artifact) rc(o.artifact);o.active=false;}o=r;let f=rs=>{if (rs) {message.text("Loading failed");rendererUpdate(message);status.failed=true;}else {status.failed=false;ap(c,o.artifact);o.active=true;if (!m) {let s=status.side;o.side=s;o.activated();o.sideUpdate(0,s);if (o.drawPerBits) for (var x=0;x<s;x++) for (var y=0;y<s;y++) o.setBit(x,y,a[y][x]);else o.setScene(a);if ((status.side>0)&&(!status.paused)) resume();}}};if (o.aynchronousSetup) o.setup().then(f);else f(o.setup());};let sideUpdate=(()=>{let cp=()=>a.map(v=>Array.from(v));return w=>{pause();let ns=status.side;if (a.length) var os=a[0].length;else var os=0;if (os) {if (os<ns) {let b=cp();a.length=0;for (var y=0;y<ns;y++) {let yr=y*(os-1)/(ns-1);let yi=[Math.floor(yr),Math.ceil(yr)];let sa=[];a.push(sa);for (var x=0;x<ns;x++) {let xr=x*(os-1)/(ns-1);let xi=[Math.floor(xr),Math.ceil(xr)];var num=0,den=0;xi.forEach(x=>yi.forEach(y=>{let p=(1-Math.abs(xr-x))*(1-Math.abs(yr-y));den+=p;num+=p*b[y][x];}));sa.push((num/den)>=0.5);}}}if (os>ns) {let b=cp();a.length=0;let p=[];for (var m=0;m<ns;m++) p.push([m*(os-1)/(ns-1)]);for (var n=0;n<os;n++) {let r=n*(ns-1)/(os-1);let i=[Math.floor(r),Math.ceil(r)];if (i[0]==i[1]) p[r].push(n);else i.forEach(i=>p[i].push(n));}for (var y=0;y<ns;y++) {let yi=p[y];let sa=[];a.push(sa);for (var x=0;x<ns;x++) {let xi=p[x];var num=0,den=0;yi.forEach((y,i)=>{if (i) xi.forEach((x,i)=>{if (i) {let p=(1-Math.abs((xi[0]-x)*(ns-1)/(os-1)))*(1-Math.abs((yi[0]-y)*(ns-1)/(os-1)));den+=p;num+=p*b[y][x];}});});sa.push((num/den)>=0.5);}}}}else {for (var y=0;y<ns;y++) {let sa=[];a.push(sa);for (var x=0;x<ns;x++) sa.push(rand()<0.5);}}if (os!=ns) {let cl=status.side**2;while (od.length!=cl) {if (od.length<cl) od.splice(rand(od.length),0,od.length);else od.splice(od.findIndex(v=>v==(od.length-1)),1);}if (!w) {o.side=ns;if (!status.failed) o.sideUpdate(os,ns);if (o.drawPerBits) for (var x=0;x<ns;x++) for (var y=0;y<ns;y++) o.setBit(x,y,a[y][x]);else o.setScene(a);}}if ((!status.paused)&&(!status.failed)) resume();};})();let rand=(()=>{let m=256;var a=null,p=m,f=()=>{};if (status.cryptoRng) {a=new Uint32Array(m);}let crng=()=>{if (p>=m) {window.crypto.getRandomValues(a);p=0;}var r=a[p]/4294967295;p++;return r;};let nrng=()=>Math.random();let get=()=>{if (status.cryptoRng) return crng();else return nrng();};return (s)=>{if (s!=undefined) return Math.floor(get()*s);else return get();};})();let pause=()=>{if (int) window.cancelAnimationFrame(int);int=last=null;};let resume=()=>{if (!int) {let f=()=>{let d=new Date();if (last) {if ((d-last)>=100) {calc();last=d;}}else last=d;int=window.requestAnimationFrame(f);};f();}};sideUpdate(true);if (renderer.length>0) rendererUpdate();else {rendererUpdate(message);status.failed=true;message.text("No renderer available");}ael(window,"resize",()=>{pause();let s=status.side;if (!status.failed) {if (o.resized()) {if (o.drawPerBits) for (var x=0;x<s;x++) for (var y=0;y<s;y++) o.setBit(x,y,a[y][x]);else o.setScene(a);}if (!status.paused) resume();}});return {sideUpdate:sideUpdate,rendererUpdate:rendererUpdate,pause:pause,resume:resume};})();var modeList,rngList;(()=>{let mr=p=>{let e=cd(),n=cd(),s=cd(),i=ce("input"),v=cd();sc(e,"range");sc(n,"name");sc(s,"slider");sc(v,"value");i.type="range";if (valid(p.name)) n.textContent=p.name;if (valid(p.min)) sa(i,"min",p.min);if (valid(p.max)) sa(i,"max",p.max);if (valid(p.step)) sa(i,"step",p.step);if (valid(p.value)) {i.value=p.value;v.textContent=p.value;}ael(i,"change",e=>{if (p.action) p.action(i.value-0);v.textContent=i.value;e.stopPropagation();});ap(e,n);ap(ap(e,s),i);ap(e,v);return e;};let mb=(d,a)=>{var active=false;let eh=[e=>{active=true;e.stopPropagation();},e=>{if (active) active=false;e.stopPropagation();},e=>{if (active) a();active=false;e.stopPropagation();}];sa(d,"role","button");if (status.input=="Touch") {ael(d,"touchstart",eh[0]);ael(d,"touchmove",eh[1]);ael(d,"touchcancel",eh[1]);ael(d,"touchend",eh[2]);}else {ael(d,"mousedown",eh[0]);ael(d,"mousemove",eh[1]);ael(d,"mouseout",eh[1]);ael(d,"mouseup",eh[2]);}return d;};let mc=(n,c,a)=>{let l=cd(),cb=cd(),nm=cd(null,n);sc(l,`list${c?" checked":""}`);sc(cb,"checkbox");sc(nm,"name");ap(l,cb);ap(l,nm);mb(l,()=>a(l));return l;};let cap=t=>{let e=cd(null,t);sc(e,"caption");return e;};let mrs=(n,v)=>mc(n,v==status.render,()=>status.render=v);let m=ap(base,cd("menu"));ap(m,cap("Parameters"));ap(m,mr({min:0,max:4,step:0.25,value:status.T,id:"t",name:"T",action:v=>status.T=v}));ap(m,mr({min:-6,max:6,step:2,value:status.H,id:"h",name:"H",action:v=>status.H=v}));ap(m,mr({min:-1,max:1,step:1,value:status.J,id:"j",name:"J",action:v=>status.J=v}));ap(m,mr({min:8,max:150,step:1,value:status.side,id:"side",name:"pixels",action:v=>status.side=v}));ap(m,mc("Pause",status.paused,c=>{if (!status.failed) {status.paused=!status.paused;sc(c,`list ${status.paused?" checked":""}`);}}));ap(m,cap("Renderer"));let ml=renderer.map((o,i)=>ap(m,mrs(o.name,i)));modeList=v=>ml.forEach((e,i)=>sc(e,`list${v==i?" checked":""}`));ap(m,cap("RNG"));let rng=status.cryptoRng;let rl=[ap(m,mc("Normal",!rng,()=>status.cryptoRng=false))];if (rng) rl.push(ap(m,mc("Crypto",rng,()=>status.cryptoRng=true)));rngList=v=>rl.forEach((e,i)=>sc(e,`list${status.cryptoRng==!!i?" checked":""}`));})();})();